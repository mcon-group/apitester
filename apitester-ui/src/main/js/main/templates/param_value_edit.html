<div ng-if="param.collectionValues">
  <!-- Parameter could appear > 1 time, repeatable input for string, number -->

  <div
    class="input-group mb-2"
    ng-repeat="value in param.collectionValues track by $index"
  >
    <input
      class="form-control"
      disabled
      type="text"
      ng-model="value"
      ng-required="param.required"
    />
    <div class="input-group-prepend">
      <button
        class="btn btn-md btn-danger m-0 px-3 rounded-right"
        ng-click="removeValue($index)"
        type="button"
      >
        <i class="fa fa-minus" aria-hidden="true"></i>
      </button>
    </div>
  </div>

  <div class="input-group mb-2">
    <input
      class="form-control"
      type="text"
      ng-class="param.required && !param.collectionValues.length ? 'border-red' : ''"
      ng-model="param.newValue"
    />
    <div class="input-group-prepend">
      <button
        class="btn btn-md btn-primary m-0 px-3 rounded-right"
        ng-click="addValue()"
        type="button"
      >
        <i class="fa fa-plus" aria-hidden="true"></i>
      </button>
    </div>
  </div>
</div>

<div ng-if="!param.collectionValues">
  <div ng-if="param.display.editType === 'file'">
    <div class="input-group">
      <div class="custom-file">
        <input name="file" type="file" class="custom-file-input" />
        <label
          class="custom-file-label overflow-auto"
          ng-click="triggerSelectFile()"
          >{{fileName}}</label
        >
      </div>
    </div>
  </div>

  <div ng-if="param.display.editType === 'input'">
    <!-- Parameter appears at most 1 time, an input for string, number, true/false boolean strings -->

    <input
      class="form-control"
      type="text"
      placeholder="{{param.defaultValue}}"
      ng-model="param.value"
      ng-required="param.required"
      ng-if="!param.secret"
    />
    <input
      class="form-control"
      type="password"
      placeholder="{{param.defaultValue}}"
      ng-if="param.secret"
      ng-model="param.value"
      ng-required="param.required"
    />
  </div>

  <div
    ng-if="param.display.editType === 'textarea' && !param.contentTypes[0].includes('image')"
  >
    <!-- Parameter appears at most 1 time, an input for stringified object -->
    <textarea
      rows="20"
      class="form-control h-100"
      ng-blur="updateBody()"
      ng-model="param.value"
      ng-required="param.required"
    ></textarea>
  </div>

  <div ng-if="param.contentTypes[0].indexOf('image/')===0">
    <!-- for the images -->

    <img
      ng-src="data:{{param.contentTypes[0]}},{{param.value | base64 }}"
      class="img-thumbnail"
    />
  </div>

  <div ng-if="param.display.editType === 'select'">
    <!-- Parameter appears at most 1 time, only a handful of values (> 1) should be used -->
    <select
      class="form-control"
      ng-model="param.value"
      ng-options="value for value in param.values"
      ng-required="param.required"
    >
      <option value="">-- Please select --</option>
    </select>
  </div>
</div>
